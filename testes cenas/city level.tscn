[gd_scene load_steps=16 format=3 uid="uid://gt75hoibpm27"]

[ext_resource type="PackedScene" uid="uid://ct5vy8wlkbd6s" path="res://levels/city_level.glb" id="1_hmnjv"]
[ext_resource type="Environment" uid="uid://quxwkglreyj8" path="res://enviorment templates/enviorment_templates.tres" id="1_x7ye3"]
[ext_resource type="PackedScene" uid="uid://bjlgeaaroug1" path="res://assets/player/player.tscn" id="3_ycf6e"]
[ext_resource type="PackedScene" uid="uid://cd6fpwl5rd5jw" path="res://assets/reset_position_triger/reset_position_triger.tscn" id="4_5ej0h"]
[ext_resource type="PackedScene" uid="uid://dmt0vrjojotty" path="res://assets/chekinpoint/chekinpoint.tscn" id="5_ovtph"]
[ext_resource type="Shader" path="res://shaders/psx_liquid.gdshader" id="6_un0rj"]
[ext_resource type="Texture2D" uid="uid://b8cjcj31uk5gm" path="res://textures/whater.png" id="7_epa44"]
[ext_resource type="PackedScene" uid="uid://ddijvwb6bc7tu" path="res://assets/NPC/spider_turret/spider_turret.tscn" id="8_nnwij"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_hhki4"]

[sub_resource type="BoxMesh" id="BoxMesh_ex83a"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_iaku7"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="QuadMesh" id="QuadMesh_vos3v"]
lightmap_size_hint = Vector2i(502, 502)
size = Vector2(25, 100)
subdivide_width = 25
subdivide_depth = 50

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ndvhk"]
render_priority = 0
shader = ExtResource("6_un0rj")
shader_parameter/albedo_color = Color(1, 1, 1, 1)
shader_parameter/scale = Vector2(25, 50)
shader_parameter/amplitude = 0.1
shader_parameter/frequency = 1.0
shader_parameter/uv_speed = Vector2(0.1, 0.1)
shader_parameter/albedo_texture = ExtResource("7_epa44")

[sub_resource type="QuadMesh" id="QuadMesh_ss772"]
size = Vector2(1000, 1000)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6sb6m"]
albedo_texture = ExtResource("7_epa44")
uv1_scale = Vector3(1000, 1000, 1000)

[node name="CityLevel" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("1_x7ye3")
camera_attributes = SubResource("CameraAttributesPractical_hhki4")

[node name="city_level" parent="." instance=ExtResource("1_hmnjv")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -0.173018, 0.0663528, 1.01114)

[node name="GPUParticlesCollisionBox3D" type="GPUParticlesCollisionBox3D" parent="city_level"]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, -23.1031, 1.03457, 0.710455)
size = Vector3(0.001, 151.012, 133.09)

[node name="ResetPositionTriger" parent="." instance=ExtResource("4_5ej0h")]
transform = Transform3D(325.11, 0, 0, 0, 9.14, 0, 0, 0, 629.685, 14.102, -10.4652, 0.594251)

[node name="sters" type="Node3D" parent="."]

[node name="MeshInstance3D4" type="MeshInstance3D" parent="sters"]
transform = Transform3D(6.7, 0, 0, 0, 7, 0, 0, 0, 9.89, -23.9499, 4.1783, -19)
mesh = SubResource("BoxMesh_ex83a")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="sters/MeshInstance3D4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="sters/MeshInstance3D4/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_iaku7")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="sters"]
transform = Transform3D(6.7, 0, 0, 0, 9.9, 0, 0, 0, 9.89, -29.9499, 0.1783, -19)
mesh = SubResource("BoxMesh_ex83a")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="sters/MeshInstance3D5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="sters/MeshInstance3D5/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_iaku7")

[node name="whater" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -63, -3, 0)
mesh = SubResource("QuadMesh_vos3v")
surface_material_override/0 = SubResource("ShaderMaterial_ndvhk")

[node name="MeshInstance3D" type="MeshInstance3D" parent="whater"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.4201e-08, -0.553654)
mesh = SubResource("QuadMesh_ss772")
surface_material_override/0 = SubResource("StandardMaterial3D_6sb6m")

[node name="Player" parent="." instance=ExtResource("3_ycf6e")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.0715, 1.56635, -3.34228)

[node name="Chekinpoint" parent="." instance=ExtResource("5_ovtph")]
transform = Transform3D(4, 0, 0, 0, 2, 0, 0, 0, 4, -25.8868, 2.56635, 7.16328)

[node name="SpiderTurret" parent="." instance=ExtResource("8_nnwij")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -16.5211, 1.781, 15.0559)
idle_in_editor = true
